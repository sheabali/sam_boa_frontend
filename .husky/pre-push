#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# Build the project
echo "ğŸ”¨ Building Next.js project..."
npm run build

if [ $? -ne 0 ]; then
  echo "âŒ Next.js build failed! Fix build errors before pushing."
  exit 1
fi

# Generate Prisma client (if using Prisma)
echo "ğŸ”§ Generating Prisma client..."
npx prisma generate

if [ $? -ne 0 ]; then
  echo "âŒ Prisma generation failed!"
  exit 1
fi

echo "âœ… All checks passed! Pushing to GitHub..."